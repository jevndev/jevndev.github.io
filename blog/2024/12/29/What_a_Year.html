<html>
	<head>
		<link href="https://fonts.googleapis.com" rel="preconnect" />
		<link
			crossorigin=""
			href="https://fonts.gstatic.com"
			rel="preconnect"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@300;600&amp;display=swap"
			rel="stylesheet"
		/>
		<link href="../../../../style.css" rel="stylesheet" />
		<link href="../../../../blog_styles.css" rel="stylesheet" />
		<script type="text/x-mathjax-config">
			MathJax.Hub.Config({
			  tex2jax: {
			    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
			    processEscapes: true
			  }
			});
		</script>
		<script
			charset="utf-8"
			src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
			type="text/javascript"
		></script>
		<title>Jonathan Evans</title>
	</head>
	<body>
		<div class="topbar">
			<div class="headshot_container">
				<img
					alt="A headshot of Jonathan Evans"
					class="headshot"
					src="../../../../headshot.jpg"
				/>
			</div>
			<div class="title_container">
				<h1 class="page_title">Jonathan Evans</h1>
				<h2 class="subtitle">Blog</h2>
			</div>
			<nav class="navigation">
				<a class="nav_link link" href="../../../../index.html">
					About
				</a>
				<a class="nav_link link" href="#footer"> Links </a>
				<a
					class="nav_link link"
					href="mailto:jonathanevansdev@gmail.com"
				>
					Contact
				</a>
				<a class="nav_link link" href="../../../../blog.html"> Blog </a>
			</nav>
		</div>
		<hr class="page_break" />
		<div id="page_content">
			<div class="post_body">
				<div class="post_column">
					<div id="post_title_bar">
						<h1 id="post_title">What a Year</h1>
						<h2 id="post_subtitle"></h2>
						<hr class="post_break" />
					</div>
					<div id="post_content">
						<p>
							T'was the week after Christmas (the awkward
							end-of-year slog) - When I thought to myself
							"Wait... Don't I have a blog?"
						</p>
						<p>
							As the last half-year has gone by, I've drafted a
							few posts that never made it to the web because life
							got in the way. I got swept into a massive
							relocation, career change, surgery and month-long
							bedrest... But in the meantime I've made a couple of
							small projects that fit well in a little lightning
							round here:
						</p>
						<h1>New Keyboard!</h1>
						<p>
							I finally bit the bullet on a
							<a
								href="https://www.boardsource.xyz/products/lily58"
							>
								lily58
							</a>
							. I've wanted to make another keyboard for a while
							after rocking two versions of the
							<a
								href="https://keeb.io/collections/iris-split-ergonomic-keyboard"
							>
								keebio iris
							</a>
							since about 2021. For this new one my main goal was
							to make something fully wireless so I can achieve
							the cable-free workstation of my dreams. I stuffed a
							750mAh battery in it which is
							<em> way </em>
							overkill. It has barely depleted in the month or so
							of using it at work.
						</p>
						<p>
							The most interesting part of this though is the
							case. I decided to design my own case so I could use
							some of my CAD skills for once. I haven't gotten
							around to sanding and painting it, but I'm pretty
							happy with the results. Not sure what happened with
							that layer line in the middle though.
						</p>
						<p>
							<img alt="lily_shot.jpg" src="lily_shot.jpg" />
						</p>
						<p>
							I did take a quick detour with this case while
							trying to play with the acoustics of it. The design
							has space under the PCB. This is both so I had a
							place to put the (rather large) battery and also
							because I knew I would want to potentially put foam
							or something down there to play with the sound.
							<img
								alt="lily case cutaway 1.png"
								src="lily case cutaway 1.png"
							/>
						</p>
						<p>
							I thought it would be fun to print a TPU pad. You
							can see it here in blue below the PCB
							<img
								alt="lily case cutaway 2.png"
								src="lily case cutaway 2.png"
							/>
						</p>
						<p>
							Another view here where you can see the PCB
							standoffs sticking up through it
						</p>
						<p>
							<img
								alt="lily case cutaway 3.png"
								src="lily case cutaway 3.png"
							/>
						</p>
						<p>
							The part printed beautifully despite the TPU being
							pretty old and having clearly taken on some
							moisture. Interestingly it made the keys sound
							<em> very </em>
							poppy. I was going for more of a
							<strong> thock </strong>
							and the empty chasm actually achieved that pretty
							well. So I didn't end up keeping the pad in there.
						</p>
						<p>
							You might also notice the strange cutouts in the
							standoffs. The placement of the diodes on the
							Lily58's PCB are really close to the mounting holes.
							So an easy solution was to just eyeball some cutouts
							for them.
						</p>
						<p>
							The diode placement caused quite the headache
							though. After I had assembled and disassembled the
							keyboard a few times my J key stopped registering.
							As I debugged my solder joints and firmware I
							disassembled and reassembled the case a few times.
							Then suddenly, the 6 key broke. After one last
							disassembly I realized what was happening. I
							designed this case based on the
							<em> left </em>
							PCB only. I figured it was a safe assumption that
							the right would just be mirrored. Frustratingly,
							though the cutouts were correct for the left PCB,
							the diodes on the right were placed in completely
							different places. Causing the standoffs to press
							into them and break. A quick change to the model to
							accommodate both placements and I was back in
							business.
						</p>
						<p>
							Luckily, I had the exact diode that the pre-soldered
							PCB came with. Unluckily I didn't have it in the
							surface mount package. Resulting in this
							abomination:
						</p>
						<p>
							<img alt="solder_job.jpg" src="solder_job.jpg" />
						</p>
						<p>
							Fortunately no one (other than myself everyone who
							reads this) has to know about it.
						</p>
						<p>
							Eventually I would like to tackle a V2 which has a
							more official reset button and power switch but for
							now you can find the cad
							<a
								href="https://cad.onshape.com/documents/30d45f15f4782f442e894449/w/9dd9f94adeff424d092fc261/e/cb818885fc3ee4c715c65c1c?renderMode=0&amp;uiState=676c807df7afcb57d045daf0"
							>
								on onshape
							</a>
							, the firmware
							<a href="https://github.com/jevndev/zmk-config">
								on github
							</a>
							and the exact board I sourced
							<a
								href="https://typeractive.xyz/products/lily58-partially-assembled-pcb"
							>
								on typeractive
							</a>
						</p>
						<h1>
							Game of life, now from the comfort of your compiler!
						</h1>
						<p>
							A quick project I did is a
							<a
								href="https://github.com/jevndev/bjarnes-game-of-life"
							>
								compile-time game of life implementation
							</a>
							in C++ templates.
						</p>
						<p>
							(warning, the repository is in a
							<em> very </em>
							sorry state at the time of writing)
						</p>
						<p>
							I restricted myself to using the
							pattern-matching-logical-paradigm-y design
							philosophy of template meta-programming. Passing
							around wrapper types or using
							<code> constexpr </code>
							would have been much easier and wouldn't have been
							susceptible to the biggest problem with what I
							wrote. That is, querying the game board creates
							<em> many </em>
							template instantiations. So much so that even modest
							size boards overrun clang's default template
							instantiation limit. Cranking that limit up is a
							solution and allowed me to keep working but that's a
							fundamental flaw with the mechanism I'm using for
							calculating the game state. There's some
							optimizations I can do to reduce the number of
							instantiations, but I could also just do the sane
							thing and have a
							<code> std::array </code>
							that I pass around at compile time.
						</p>
						<h2>Testing</h2>
						<p>
							I originally went into this with the idea that I
							would write a python script to also do game of life
							to validate the implementation. I set up this
							project with my go-to testing framework GTest...
							Only to realize that it doesn't really make sense to
							test things this way using it because the library is
							designed to have one board per compilation unit.
							Meaning one test per file. This seemed more
							cumbersome than it was worth so I dropped the idea.
						</p>
						<h1>RSS! The future of content aggregation</h1>
						<p>
							Since making this site I've wanted to add RSS to it.
							I figured it would be a good candidate for something
							to do while I was on bed-rest for that injury I
							mentioned earlier. I already have a "static site
							generator" script for this site which handles
							converting my blog posts from markdown to html (as
							well as connecting up all the pages in the site) so
							I
							<a
								href="https://github.com/jevndev/jevndev.github.io/tree/implement-rss"
							>
								shoved it in there
							</a>
							.
						</p>
						<p>
							That script is getting a little bloated so
							refactoring it is getting tempting. But I'll save
							that for a rainy day.
						</p>
						<h1>Source Engine Server Protocol</h1>
						<p>
							I've been meaning to learn rust for a while now so I
							decided to do a small project in it. My goal was to
							implement a CLI which can query servers running
							online lobbies for various
							<a
								href="https://en.wikipedia.org/wiki/Source_(game_engine)"
							>
								source engine
							</a>
							games. I saw that the protocol was
							<a
								href="https://developer.valvesoftware.com/wiki/Server_queries"
							>
								documented online
							</a>
							so I figured it would be a quick weekend project. I
							started out in a python script to nail down any
							oddities of the protocol before moving to rust so I
							could focus on language mechanics. Unfortunately I
							never really made it past the python script. The
							source server query protocol has a handful of
							obnoxious oddities which make it one of the most...
							<em> interesting </em>
							... protocols I've ever seen. I want to write a full
							post on it and what can be learned about how
							<strong> not </strong>
							to design a protocol. so I'll keep this brief here.
						</p>
						<h1>Looking to the future</h1>
						<p>
							Recent life changes have given me inspiration to
							make more. So hopefully that means I'll have more to
							show here soon. Until then, hopefully the new year
							treats you well.
						</p>
					</div>
				</div>
			</div>
			<footer id="footer">
				<hr class="page_break" />
				<div class="footer_bar">
					<div class="footer_links">
						<a
							class="footer_link link"
							href="https://www.printables.com/@jevndev_1637559"
						>
							<svg
								class="footer_link_icon"
								id="footer_link_icon_printables"
							>
								<use
									xlink:href="../../../../printables.svg#printables_svg"
								></use>
							</svg>
						</a>
						<a
							class="footer_link link"
							href="https://github.com/jevndev"
						>
							<svg
								class="footer_link_icon"
								id="footer_link_icon_github"
							>
								<use
									xlink:href="../../../../github.svg#github_svg"
								></use>
							</svg>
						</a>
						<a
							class="footer_link link"
							href="https://www.linkedin.com/in/jevndev/"
						>
							<svg
								class="footer_link_icon"
								id="footer_link_icon_linkedin"
							>
								<use
									xlink:href="../../../../linkedin.svg#linkedin_svg"
								></use>
							</svg>
						</a>
					</div>
				</div>
			</footer>
		</div>
	</body>
</html>
